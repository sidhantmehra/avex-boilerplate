<!doctype html>
<html class="no-js" lang="{{ shop.locale }}">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <!-- Favicon -->
  {% if settings.favicon %}
    <link rel="shortcut icon" href="{{ 'favicon.png' | assets_url }}" type="image/png" />
  {% endif %}

  <!-- Title -->
  <title>
  {{- page_title -}}
  {%- if current_tags -%}{%- assign meta_tags = current_tags | join: ', ' -%} &ndash; {{- 'general.meta.tags' | t: tags: meta_tags -}}{%- endif -%}
  {%- if current_page != 1 -%} &ndash; {{- 'general.meta.page' | t: page: current_page -}}{%- endif -%}
  {%- unless page_title contains shop.name -%} &ndash; {{ shop.name }}{%- endunless -%}
  </title>

  <!-- Meta Desc -->
  {% if page_description %}
    <meta name="description" content="{{ page_description | escape }}">
  {% endif %}

  <!-- SEO and Social Media Meta -->
  {% include 'social-meta-tags' %}
  <link rel="canonical" href="{{ canonical_url }}">
  <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
  <meta name="theme-color" content="{{ settings.color_primary }}">

  <!-- Shopify Header Hooks -->
  {{ content_for_header }}
  
  <!-- CSS Vars -->
  <!-- {% render 'css-vars' %} -->
  
  <!-- Critical CSS -->
  <style>{% render 'critical-css' %}</style>
  
  <!-- Critical JS -->
  <script>{% render 'critical-js' %}</script>
  
</head>
<body id="{{ page_title | handle }}" class="{% if customer %}customer-logged-in {% endif %}template-{{ request.page_type | handle }} template-{{ template.suffix }}">
  {% section 'header' %} 
  <main class="main-content" role="main">
    {{ content_for_layout }}
  </main>
  {% section 'footer' %}

   <!-- Cart JSON -->
  <script type="application/json" id="cart-json">{{ cart | json }}</script>
  
  <!-- Lazyloading assets -->
  <script>
    document.addEventListener('DOMContentLoaded', async function() {
        // Dynamic CSS/JS files load
      {% assign scssname = template.name | append: '.min.css' %}
      loadFile("{{ 'common.min.css' | asset_url }}", "css");
      loadFile("{{ scssname | asset_url }}", "css")

      {% assign jsname = template.name | append: '.min.js' %}
      loadFile([
        "{{ 'common.min.js' | asset_url }}", 
        {% if template.name == 'product' %}"{{ 'option_selection.js' | shopify_asset_url }}",{% endif %}
        "{{ jsname | asset_url }}",
        ],"js")  
    }, false);
  </script>
  
</body> 
</html>
